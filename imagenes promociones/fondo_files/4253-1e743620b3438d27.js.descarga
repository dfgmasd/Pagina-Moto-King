!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0330ff12-1ab0-4cf7-8bdf-85dd9968ff5f",e._sentryDebugIdIdentifier="sentry-dbid-0330ff12-1ab0-4cf7-8bdf-85dd9968ff5f")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4253,4390],{42636:function(e,t,n){"use strict";n.d(t,{Ef:function(){return i},Ni:function(){return a},lY:function(){return o}}),n(48388),n(9299),n(42123);var r=n(22319),a=(0,r.c)({defaultClassName:"_1e09mfn5 $flex $justify-center $items-center $bg-surface-2 hover:$bg-surface-3 $rounded-[8px] $w-[35px] $h-[35px] $text-surface-foreground-2 $shadow-[0_0_60px_rgba(34,_34,_34,_0.25)] $cursor-pointer",variantClassNames:{isDownloading:{true:"$pointer-events-none $cursor-not-allowed"}},defaultVariants:{isDownloading:!1},compoundVariants:[]}),o="_1a81dk55",i=(0,r.c)({defaultClassName:"_1e09mfn1 _1e09mfn0 _1wc8gem5 $relative $bg-black/10 $overflow-hidden $rounded-[4px] $[contain:strict]",variantClassNames:{orientation:{vertical:"$aspect-[9/16]",horizontal:"$aspect-video",square:"$aspect-square"}},defaultVariants:{orientation:"horizontal"},compoundVariants:[]})},64390:function(e,t,n){"use strict";n.r(t),n.d(t,{DownloadVideoButton:function(){return j}});var r=n(97458),a=n(51195),o=n(770),i=n(9249),s=n(19213),u=n(63918),l=n(10893),d=n(42636),c=n(72234),m=n(65122),f=n(85229),p=n(46700),h=n(52983),v=n(50987),$=n(65724),w=n(52240),b=n(33247),x=n(47874),_=n(35576),y=n(14534),N=n(68344);let g=e=>{let{resourceId:t,premium:n,quality:r,authorName:a,orientation:o,poster:i,name:s,trackActivated:u}=e,l=(0,m.e)(),[d,g]=(0,h.useState)(!1),j=(0,p.V)(),{isUserWinback:C,showWinbackModal:I}=(0,f.l)(),R=(0,N.G)({resourceId:t,location:"thumbnail",origin:"resource_thumbnail",limitModalMediaUrl:i,resourceName:s}),T=(0,_.mS)(),k=(0,w.TH)({action:"download",location:"thumbnail",file_id:t,license:n?"premium":"free",resolution:r,author_name:a,category:"video",aspect_ratio:o}),D=(0,c.Lh)(),E=(0,$.W)(t,"video","resource_thumbnail"),{showAttribution:O}=(0,v.J)(),A=(0,b.R)()({authorName:a,isAIGenerated:!1,type:"video",isPremium:n,eventName:"download__thumbnail"}),P=(0,h.useCallback)(()=>{T({resourceId:t,isResourcePremium:n,resourceType:"video",downloadType:"download"})},[T,t,n]);return{download:(0,h.useCallback)(async()=>{if(n&&!l){E({origin:"resource_thumbnail",resourceData:{name:s,resourceType:"video",mediaUrl:i},checkoutQueryParams:A,onButtonClick:P});return}if(C){I();return}g(!0);let e=await (0,y.S)({videoId:t,orientation:o,walletId:D});if(e.success){j(e.data.url,e.data.filename);let r=(0,x.z)(e.data.filename);u&&(T({resourceId:t,isResourcePremium:n||!1,resourceType:"video"}),k({fileExtension:r})),O()}else R(e,A);g(!1)},[n,l,C,t,o,D,E,s,i,A,P,I,j,u,O,T,k,R]),isDownloading:d,userPremium:l}},j=e=>{let{resourceId:t,quality:n,premium:c,authorName:m,orientation:f,trackActivated:p=!0,name:h,poster:v}=e,{t:$}=(0,l.$G)("detailCommon"),{download:w,isDownloading:b}=g({resourceId:t,quality:n,premium:c,authorName:m,orientation:f,trackActivated:p,name:h,poster:v});return(0,r.jsx)(a.u,{trigger:(0,r.jsxs)("a",{className:d.Ni({isDownloading:b}),onClick:()=>{b||w()},role:"link","data-cy":"download-thumbnail",children:[(0,r.jsx)(i.T,{children:$("download")}),b?(0,r.jsx)(o.J,{as:u.Z,size:"sm",className:d.lY}):(0,r.jsx)(o.J,{as:s.Z,size:"base"})]}),side:"left",children:(0,r.jsx)("span",{className:"$capitalize",children:$("download")})})}},93295:function(e,t,n){"use strict";n.d(t,{Q:function(){return s}});var r=n(97458),a=n(38741),o=n(50987),i=n(64390);let s=e=>{let{id:t,poster:n,location:s,author:u,premium:l,quality:d,orientation:c,name:m}=e,{attributionEnabled:f}=(0,o.J)();return f?null:(0,r.jsxs)("aside",{className:"$absolute $top-[10px] $right-[10px] $flex $flex-col $gap-[10px] $transition-all",children:[(0,r.jsx)(i.DownloadVideoButton,{resourceId:t,authorName:u.name,premium:l,quality:d,orientation:c,name:m,poster:n}),"thumbnail"===s&&(0,r.jsx)(a.AddToCollection,{type:"video",id:t,location:s,tooltipProps:{side:"left"}})]})}},3797:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r=n(97458),a=n(58058),o=n.n(a),i=n(51780),s=n(50987);let u=e=>{let{children:t,as:n,onHandleClick:a,name:u}=e,{attributionEnabled:l}=(0,s.J)(),d=(0,i.useRouter)(),c="$block $h-full $w-full";return l?(0,r.jsx)("div",{className:c,children:t}):(0,r.jsx)(o(),{href:{pathname:d.pathname,query:d.query},as:n,className:c,shallow:!0,scroll:!1,onClick:a,"aria-label":u,prefetch:!1,children:t})}},80783:function(e,t,n){"use strict";n.d(t,{Q:function(){return f}});var r=n(97458),a=n(85787),o=n(65122),i=n(770),s=n(9249),u=n(83273),l=n(75292),d=n(4784),c=n(63081),m=n(33247);n(21966);let f=e=>{let{id:t,name:n,poster:f,authorName:p}=e,h=(0,a._)(),v=(0,o.e)(),$=(0,m.R)()({type:"video",authorName:p,isPremium:!0,isAIGenerated:!1,eventName:"download__thumbnail_crown"});$.append("origin","".concat(c.Ej,"_premium_video"));let w=v?(0,r.jsx)(d.s,{}):(0,r.jsx)(l.w,{resource:{id:t,name:n,mediaUrl:f,resourceType:"video"},urlParams:new URLSearchParams($),category:"video"});return(0,r.jsxs)("span",{className:"_14qkqd50 $absolute $top-10 $left-10 $bg-grayEbony/70 $flex $justify-center $items-center $rounded-md","data-cy":"premium-resource-crown",children:[(0,r.jsx)(s.T,{children:"Premium"}),h?w:(0,r.jsx)(i.J,{as:u.Z,size:"sm",className:"$text-yellowPremium"})]})}},29708:function(e,t,n){"use strict";n.d(t,{n:function(){return d}});var r=n(97458),a=n(53344),o=n.n(a),i=n(50987),s=n(28851),u=n(77007);let l=o()(()=>n.e(6303).then(n.bind(n,86303)).then(e=>e.AttributionThumbnail),{loadableGenerated:{webpack:()=>[86303]},ssr:!1}),d=e=>{let{author:t,id:n,name:a,position:o,premium:d,videoSrc:c,duration:m,enableGaTracker:f,isInViewport:p,posterSrc:h,videoUrl:v,isHovered:$}=e,{attributionEnabled:w}=(0,i.J)();if(w){var b,x;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("video",{width:480,height:270,className:u.R,preload:"metadata",autoPlay:!1,poster:h,muted:!0,playsInline:!0,loop:!0,children:p&&(0,r.jsx)("source",{"data-src":c,type:"video/mp4"})}),(0,r.jsx)(l,{authorId:null!==(b=null==t?void 0:t.id)&&void 0!==b?b:0,authorName:null!==(x=null==t?void 0:t.name)&&void 0!==x?x:"",resourceUrl:v,resourceId:n,resourceName:a,mediaUrl:h,mediaWidth:640,mediaHeight:360,isAIGenerated:!1,isPremium:d,resourceType:"video"})]})}return(0,r.jsx)(s.VideoContentComponent,{poster:h,videoSrc:c,duration:m,name:a,author:t,isInViewport:p,id:n,premium:d,position:o,enableGaTracker:f,checkHover:!0,isHovered:$})}},37908:function(e,t,n){"use strict";n.d(t,{v:function(){return l}});var r=n(97458),a=n(57291),o=n(63123),i=n(70870),s=n(18666),u=n(38012);let l=e=>{let{id:t,name:n,poster:l,containerRef:d}=e,{width:c}=(0,i.n)(d),m=!!(c&&c>=o.CC);return(0,r.jsx)(s.B,{buttonClassName:(0,a.cx)("$flex $text-white $gap-5 $items-center $sprinkles-text-sm $font-semibold $absolute $bottom-10 $left-10 $transition-opacity",u.p,m?"$px-15 $py-0":"$px-[8px]"),id:t,name:null!=n?n:"",preview:{width:0,height:0,url:null!=l?l:""},type:"video",inThumbnail:!0,showLabel:m})}},47874:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});let r=e=>e.includes(".")?e.toLowerCase().split(".").pop():""},14534:function(e,t,n){"use strict";n.d(t,{S:function(){return r}});let r=async e=>{let{videoId:t,orientation:n,walletId:r,optionId:a,action:o}=e,i=new URLSearchParams;n&&i.set("orientation",n),r&&i.set("walletId",r),a&&i.set("optionId",a.toString()),o&&i.set("action",o);let s=await fetch("/api/video/".concat(t,"/download?").concat(i.toString()));return s.ok?{success:!0,data:await s.json()}:429===s.status?{success:!1,data:"DOWNLOAD_LIMIT_REACHED",metadata:"/download-limit"}:403===s.status?{success:!1,data:"FORBIDDEN"}:401===s.status||405===s.status?{success:!1,data:"AUTHENTICATION_ERROR"}:404===s.status?{success:!1,data:"NOT_FOUND"}:{success:!1,data:"UNKNOWN_ERROR"}}},68344:function(e,t,n){"use strict";n.d(t,{G:function(){return u}});var r=n(19170),a=n(51780),o=n(10893),i=n(52983),s=n(65724);let u=e=>{let{resourceId:t,location:n,origin:u,limitModalMediaUrl:l,resourceName:d}=e,{openToast:c}=(0,r.x_)(),{t:m}=(0,o.$G)("error"),{push:f}=(0,a.useRouter)(),p=(0,s.W)(t,u,n);return(0,i.useCallback)((e,t)=>{let n={DOWNLOAD_LIMIT_REACHED:()=>{p({origin:u,resourceData:{name:d,resourceType:"video",mediaUrl:l},checkoutQueryParams:t,modalType:"downloadLimit"})},AUTHENTICATION_ERROR:()=>{f("/oauth-logout")},NOT_FOUND:()=>{c({message:m("notFound")})},UNKNOWN_ERROR:()=>{c({message:m("unknown")})}};if("string"==typeof e.data&&e.data in n)return n[e.data]()},[p,u,d,l,f,c,m])}},5479:function(e,t,n){"use strict";n.d(t,{l:function(){return u}});var r=n(97813),a=n(91657),o=n(51780),i=n(52983),s=n(97311);let u=e=>{let{id:t,url:n,related:u,nativeAspectRatio:l,track:d,uuid:c,fromElement:m}=e,{query:{aspect_ratio:f}}=(0,o.useRouter)(),p=(0,i.useCallback)(e=>{if(null==e?void 0:e.toString()){let t=(0,r.X)(e),o=t===a._y?"":t;return"".concat(n,"/").concat(o)}return n},[n]),h=(0,i.useMemo)(()=>u?p():f&&f!==l?p(f):p(),[u,f,p,l]);return(0,s.f)(t,h,{...m&&{fromElement:m},track:d,...c&&{uuid:c}})}},91050:function(e,t,n){"use strict";n.d(t,{Ch:function(){return w},bd:function(){return f},Ft:function(){return h}});var r=n(87420),a=n(7616),o=n(52983),i=n(45591),s=n(44932),u=n(12297),l=n(24399),d=n(73139);let c=(0,d.xu)(e=>{let{locale:t,id:n}=e;return(0,d.n7)((0,l.cn)(async()=>{if(null===n)return null;let e=await fetch("/api/video?id=".concat(n,"&locale=").concat(t));if(!e.ok)throw Error("Failed to fetch video ".concat(n));return await e.json()}))},u.vZ),m=()=>{let e=(0,r.ZK)(),t=(0,a.Dv)(s.D),n=(0,a.Dv)(c({locale:e,id:t}));return"hasData"===n.state?n.data:null},f=()=>{let e=(0,i.yd)(),t=m();return(0,o.useMemo)(()=>[null===t,null!=t?t:e],[e,t])},p=(0,o.createContext)([]),h=()=>(0,o.useContext)(p);var v=n(97458),$=n(61462);let w=e=>{let{videos:t,children:n,...r}=e;return(0,v.jsx)(p.Provider,{value:t,children:(0,v.jsx)($.b,{...r,items:t,children:n})})}},42123:function(){},21966:function(){}}]);